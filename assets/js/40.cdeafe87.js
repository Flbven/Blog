(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{496:function(a,s,t){"use strict";t.r(s);var e=t(30),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"字符串操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符串操作"}},[a._v("#")]),a._v(" 字符串操作")]),a._v(" "),t("h3",{attrs:{id:"获取字符串长度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取字符串长度"}},[a._v("#")]),a._v(" 获取字符串长度")]),a._v(" "),t("p",[t("code",[a._v("${#varname}")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 当前用户为root")]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v("USER}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("h3",{attrs:{id:"子字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子字符串"}},[a._v("#")]),a._v(" 子字符串")]),a._v(" "),t("p",[t("code",[a._v("${varname:offset:length}")])]),a._v(" "),t("p",[a._v("offset是从0开始的，length表示子字符串的长度，可以省略，省略则表示到最后一个字符：")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${user"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("1"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("2}")]),a._v("\noo\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("如果offset为负值，则表示从字符串末尾开始算起，同时为了与"),t("code",[a._v("${variable:-word}")]),a._v("避免混淆，在负号前面要加上一个空格：")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("foo")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"This string is long."')]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${foo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" -5}")]),a._v("\nlong.\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${foo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" -5"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("2}")]),a._v("\nlo\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${foo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" -5"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":-")]),a._v("2}")]),a._v("\nlon\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("h3",{attrs:{id:"搜索和替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搜索和替换"}},[a._v("#")]),a._v(" 搜索和替换")]),a._v(" "),t("h5",{attrs:{id:"_1-头部模式匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-头部模式匹配"}},[a._v("#")]),a._v(" （1）头部模式匹配")]),a._v(" "),t("p",[t("code",[a._v("${variable#pattern}")]),a._v("：删除最短匹配的部分")]),a._v(" "),t("p",[t("code",[a._v("${variable##pattern}")]),a._v("：删除最长匹配的部分")]),a._v(" "),t("p",[a._v("​\t匹配字符串的开头是否匹配模式，如果匹配成功则==删除匹配的部分==返回，这个操作并不会影响原始变量。")]),a._v(" "),t("p",[a._v("pattern可以使用"),t("code",[a._v("*")]),a._v("、"),t("code",[a._v("?")]),a._v("、"),t("code",[a._v("[]")]),a._v("等通配符：")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("myPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home/cam/book/long.file.name\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${myPath"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("*"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("}")]),a._v("\ncam/book/long.file.name\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${myPath"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("##")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("*"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("}")]),a._v("\nlong.file.name\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("h5",{attrs:{id:"_2-尾部模式匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-尾部模式匹配"}},[a._v("#")]),a._v(" （2）尾部模式匹配")]),a._v(" "),t("p",[t("code",[a._v("${variable%pattern}")]),a._v("：删除最短匹配的部分")]),a._v(" "),t("p",[t("code",[a._v("${variable%%pattern}")]),a._v("：删除最长匹配的部分")]),a._v(" "),t("h5",{attrs:{id:"_3-任意位置匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-任意位置匹配"}},[a._v("#")]),a._v(" （3）任意位置匹配")]),a._v(" "),t("p",[t("code",[a._v("${variable/pattern/string}")]),a._v("：删除最长匹配的部分，但仅替换第一个匹配")]),a._v(" "),t("p",[t("code",[a._v("${variable//pattern/string}")]),a._v("：删除最长匹配的部分，并以string替换：")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home/cam/foo/foo.name\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("foo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("bar}")]),a._v("\n/home/cam/bar/foo.name\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("foo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("bar}")]),a._v("\n/home/cam/bar/bar.name\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br")])]),t("p",[a._v("这个语法还可以进行扩展：")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 模式必须出现在字符串的开头")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${variable"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("#")]),a._v("pattern"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("string}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 模式必须出现在字符串的结尾")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${variable"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("%")]),a._v("pattern"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("string}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("h3",{attrs:{id:"改变大小写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改变大小写"}},[a._v("#")]),a._v(" 改变大小写")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 转为大写")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${varname"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("^^")]),a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 转为小写")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${varname"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(",,")]),a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);